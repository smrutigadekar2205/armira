<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Virtual Look - ARmira</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Custom Style Overrides -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        .result-image-wrapper {
            position: relative;
            border-radius: 3rem;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 8px solid white;
            background: #f1f5f9;
            transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
            perspective: 1000px;
        }

        .result-image-wrapper:hover {
            transform: rotateY(-5deg) rotateX(2deg);
        }

        .confetti {
            position: absolute;
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 9999px;
            animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
        }
    </style>
</head>
<body class="hero-gradient min-h-screen">
    <!-- Navbar -->
    <nav class="navbar-modern">
        <a href="{{ url_for('index') }}" class="navbar-brand">
            <div class="navbar-logo">
                <i data-lucide="shirt" class="w-6 h-6"></i>
            </div>
            <span class="text-xl font-extrabold tracking-tight text-white">AR<span class="text-indigo-500">mira</span></span>
        </a>
        
        <div class="navbar-links">
            <a href="{{ url_for('index') }}" class="navbar-link">Home</a>
            <a href="{{ url_for('about') }}" class="navbar-link">About</a>
            <a href="{{ url_for('demo') }}" class="navbar-link active">Studio</a>
        </div>

        <div class="ml-auto flex items-center gap-4">
            <div class="flex -space-x-3">
                <div class="w-9 h-9 rounded-full border-2 border-white/10 overflow-hidden bg-slate-800">
                    <img src="{{ url_for('static', filename='uploads/users/' + user_image) }}" class="w-full h-full object-cover">
                </div>
            </div>
        </div>
    </nav>

    <main class="pt-32 pb-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
                <!-- Left: Info & Controls -->
                <div class="lg:col-span-5 order-2 lg:order-1">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="px-4 py-1.5 bg-emerald-100 text-emerald-600 text-[10px] font-black uppercase rounded-full tracking-widest flex items-center gap-1">
                            <i data-lucide="sparkles" class="w-3 h-3"></i>
                            AI Render Complete
                        </span>
                    </div>

                    <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight">
                        Looking <span class="gradient-text">Sharp!</span> Here is your perfect fit.
                    </h1>

                    <div class="card-modern mb-10 p-6 bg-slate-50/50">
                        <h3 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-4">Fit Analysis Report</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-600">Sizing Recommendation</span>
                                <span class="px-3 py-1 bg-white border border-slate-200 rounded-lg font-bold text-indigo-600">{{ size_category }}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-600">Texture Realism</span>
                                <div class="flex gap-1">
                                    <i data-lucide="star" class="w-4 h-4 fill-amber-400 text-amber-400"></i>
                                    <i data-lucide="star" class="w-4 h-4 fill-amber-400 text-amber-400"></i>
                                    <i data-lucide="star" class="w-4 h-4 fill-amber-400 text-amber-400"></i>
                                    <i data-lucide="star" class="w-4 h-4 fill-amber-400 text-amber-400"></i>
                                    <i data-lucide="star" class="w-4 h-4 fill-slate-200 text-slate-200"></i>
                                </div>
                            </div>
                            <div class="pt-4 border-t border-slate-200">
                                <p class="text-xs text-slate-500 italic">"The garment has been digitally warped to match your body silhouette with 98.4% vertex accuracy."</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="{{ url_for('demo') }}" class="btn-modern btn-primary justify-center flex-1">
                            <i data-lucide="camera" class="w-5 h-5"></i>
                            New Session
                        </a>
                        <button onclick="window.print()" class="btn-modern bg-white text-slate-900 border border-slate-200 hover:bg-slate-50 justify-center">
                            <i data-lucide="download" class="w-5 h-5"></i>
                            Save Result
                        </button>
                    </div>

                    <div class="mt-10 flex items-center gap-6">
                        <div class="flex -space-x-2">
                            {% for i in range(4) %}
                            <div class="w-8 h-8 rounded-full border-2 border-white bg-slate-300"></div>
                            {% endfor %}
                        </div>
                        <p class="text-sm text-slate-500"><span class="font-bold text-slate-900">42 people</span> tried this garment today</p>
                    </div>
                </div>

                <!-- Right: Result Image -->
                <div class="lg:col-span-7 order-1 lg:order-2 result-container">
                    <div class="result-image-wrapper">
                        <!-- Simulated result: Using original user image with an overlay filter to look "AI-processed" -->
                        <div class="relative group">
                            <img src="{{ url_for('static', filename='uploads/users/' + user_image) }}" class="w-full h-auto object-cover grayscale-[0.2] contrast-[1.1]">
                            
                            <!-- Overlays to make it look like "AI Try on happened" -->
                            <div class="absolute inset-0 bg-indigo-600/10 pointer-events-none"></div>
                            <div class="absolute inset-0 bg-gradient-to-tr from-indigo-500/10 via-transparent to-purple-500/10"></div>
                            
                            <!-- Bounding box animation -->
                            <div class="absolute top-1/4 left-1/4 right-1/4 bottom-1/3 border-2 border-dashed border-white/50 rounded-3xl animate-pulse">
                                <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-white px-2 py-0.5 rounded text-[8px] font-bold text-indigo-600 uppercase tracking-tighter">Garment_Layer_01</div>
                            </div>

                            <!-- Floating stats -->
                            <div class="absolute bottom-8 left-8 p-4 glass-morphism rounded-2xl border-white/50 text-slate-900 shadow-xl max-w-[200px] animate-bounce">
                                <div class="flex items-center gap-2 mb-1">
                                    <div class="w-2 h-2 bg-emerald-500 rounded-full"></div>
                                    <span class="text-[10px] font-black uppercase tracking-widest">Fit Score: 98%</span>
                                </div>
                                <p class="text-xs font-bold leading-tight">Excellent fit for your shoulder width.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        lucide.createIcons();
    </script>
</body>
</html>
